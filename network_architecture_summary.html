<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architektura Sieci - Podsumowanie Funkcjonalne</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 50px;
        }
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .section-header h2 {
            font-size: 1.8em;
        }
        .section-description {
            background: #f0f4ff;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 10px;
            line-height: 1.7;
            color: #333;
        }
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            line-height: 1.6;
        }
        .info-box strong {
            color: #2196F3;
            display: block;
            margin-bottom: 8px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #856404;
            line-height: 1.6;
        }
        .warning-box strong {
            display: block;
            margin-bottom: 8px;
        }
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #155724;
            line-height: 1.6;
        }
        .success-box strong {
            display: block;
            margin-bottom: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        tbody tr:hover {
            background: #f8f9fa;
        }
        tbody tr:last-child td {
            border-bottom: none;
        }
        .topology-diagram {
            background: #f8f9fa;
            border: 2px solid #667eea;
            padding: 30px;
            border-radius: 10px;
            margin: 25px 0;
            text-align: center;
        }
        .topology-diagram pre {
            font-family: monospace;
            font-size: 0.85em;
            line-height: 1.8;
            color: #333;
            display: inline-block;
            text-align: left;
        }
        .tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 2px;
        }
        .tag-core {
            background: #e3f2fd;
            color: #1976d2;
        }
        .tag-edge {
            background: #fff3cd;
            color: #856404;
        }
        .tag-access {
            background: #d4edda;
            color: #155724;
        }
        .tag-isolated {
            background: #f8d7da;
            color: #842029;
        }
        .vlan-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85em;
        }
        .vlan-prod {
            background: #d4edda;
            color: #155724;
        }
        .vlan-mgmt {
            background: #cfe2ff;
            color: #084298;
        }
        .vlan-guest {
            background: #fff3cd;
            color: #856404;
        }
        .vlan-iot {
            background: #f8d7da;
            color: #842029;
        }
        .cabinet-box {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        .cabinet-box h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .cabinet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        .flow-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            position: relative;
        }
        .flow-step::after {
            content: '‚Üì';
            display: block;
            font-size: 2em;
            margin-top: 10px;
            color: white;
        }
        .flow-step:last-child::after {
            display: none;
        }
        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 25px 0;
        }
        .footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            color: #666;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üè¢ Architektura Sieci Multi-Site</h1>
            <p>Podsumowanie funkcjonalne dla wdro≈ºenia i zarzƒÖdzania</p>
        </div>

        <!-- Content -->
        <div class="content">

            <!-- Section 1: Overview -->
            <div class="section">
                <div class="section-header">
                    <h2>1Ô∏è‚É£ PrzeglƒÖd architektury</h2>
                </div>
                
                <div class="section-description">
                    Infrastruktura sieciowa oparta na <strong>4 szafach telekomunikacyjnych</strong> po≈ÇƒÖczonych 
                    w topologii <strong>gwiazdy</strong> z centralnƒÖ szafƒÖ Renault. Architektura wykorzystuje 
                    <strong>segmentacjƒô VLAN</strong> (12 sieci) z zaawansowanƒÖ kontrolƒÖ dostƒôpu i izolacjƒÖ.
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Kluczowe cechy infrastruktury:</strong>
                    ‚Ä¢ <strong>Centralizacja:</strong> Szafa Renault zawiera urzƒÖdzenia core (Fortinet, CCR2004, USW Aggregation)<br>
                    ‚Ä¢ <strong>Segmentacja:</strong> 12 VLAN√≥w z r√≥≈ºnymi poziomami bezpiecze≈Ñstwa i izolacji<br>
                    ‚Ä¢ <strong>Redundancja:</strong> Dual-pool DHCP system (produkcja + NetBan)<br>
                    ‚Ä¢ <strong>Skalowalno≈õƒá:</strong> ≈Åatwe dodawanie nowych szaf/urzƒÖdze≈Ñ przez trunk links<br>
                    ‚Ä¢ <strong>Bezpiecze≈Ñstwo:</strong> Multi-layer security (L2 filtering, L3 firewall, NAT)
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Uwaga techniczna:</strong>
                    Fortinet w tej instalacji jest <strong>symulowany przez MikroTik C52iG</strong> w ≈õrodowisku 
                    dev/test. W produkcji nale≈ºy zastƒÖpiƒá dedykowanym Fortinet FortiGate dla pe≈Çnej funkcjonalno≈õci 
                    security (IPS/IDS, Application Control, SSL Inspection).
                </div>
            </div>

            <!-- Section 2: Onboarding -->
            <div class="section">
                <div class="section-header">
                    <h2>2Ô∏è‚É£ Onboarding nowych urzƒÖdze≈Ñ - Mechanizm NetBan</h2>
                </div>

                <div class="section-description">
                    Ka≈ºde nowe urzƒÖdzenie pod≈ÇƒÖczone do sieci LAN/WiFi <strong>automatycznie otrzymuje adres IP 
                    z puli NetBan</strong> powiƒÖzanej z VLANem, kt√≥ry jest przypisany do portu switcha lub sieci WiFi. 
                    Jest to mechanizm bezpiecze≈Ñstwa zapobiegajƒÖcy nieautoryzowanemu dostƒôpowi do sieci produkcyjnej.
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Rozpoznawanie nowych urzƒÖdze≈Ñ:</strong>
                    Otrzymany adres jest charakterystyczny ‚Äì rozpoczyna siƒô od <strong>100.XX.XX.XX</strong> ‚Äì 
                    gdzie pozosta≈Çe oktety (XX.XX.XX) wskazujƒÖ na VLAN do kt√≥rego nale≈ºy port/sieƒá WiFi.<br>
                    <br>
                    <strong>Przyk≈Çady:</strong><br>
                    ‚Ä¢ Port w VLAN110 ‚Üí urzƒÖdzenie dostaje <code>100.110.110.XXX</code><br>
                    ‚Ä¢ WiFi w VLAN170 ‚Üí urzƒÖdzenie dostaje <code>100.170.170.XXX</code><br>
                    ‚Ä¢ Port w VLAN300 ‚Üí urzƒÖdzenie dostaje <code>100.18.254.XXX</code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîÑ Proces onboardingu urzƒÖdzenia</h3>

                <div class="flow-container">
                    <div class="flow-step">
                        <strong>1. Nowe urzƒÖdzenie</strong><br>
                        UrzƒÖdzenie pod≈ÇƒÖczane do portu switcha lub WiFi
                    </div>
                    <div class="flow-step">
                        <strong>2. DHCP Request</strong><br>
                        CCR2004 przydziela IP z puli NetBan (100.XX.XX.XXX)
                    </div>
                    <div class="flow-step">
                        <strong>3. Brak dostƒôpu</strong><br>
                        Fortinet firewall DROP ca≈Çego ruchu z 100.x.x.x<br>
                        ‚ùå Brak Internetu | ‚ùå Brak sieci wewnƒôtrznej
                    </div>
                    <div class="flow-step">
                        <strong>4. Identyfikacja przez admina</strong><br>
                        Admin odczytuje MAC address urzƒÖdzenia<br>
                        (z CCR2004: DHCP leases lub bridge host table)
                    </div>
                    <div class="flow-step">
                        <strong>5. Migracja do produkcji</strong><br>
                        U≈ºycie narzƒôdzia: "Generator Przenoszenia VLAN"<br>
                        Migracja MAC ‚Üí sieƒá produkcyjna (10.XX.XX.XXX)
                    </div>
                    <div class="flow-step">
                        <strong>6. Pe≈Çny dostƒôp</strong><br>
                        Po odnowieniu DHCP lease:<br>
                        ‚úÖ Internet | ‚úÖ Sieci wewnƒôtrzne (zgodnie z firewall rules)
                    </div>
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Narzƒôdzie: Generator Przenoszenia VLAN</strong>
                    Dostƒôpne w systemie zarzƒÖdzania sieciƒÖ (PietrzakVLAN-Katowice).<br>
                    Narzƒôdzie generuje komendy MikroTik do migracji urzƒÖdzenia miƒôdzy sieciami:<br>
                    ‚Ä¢ Usuwa stary lease NetBan<br>
                    ‚Ä¢ Tworzy nowy static lease w sieci produkcyjnej<br>
                    ‚Ä¢ Opcjonalnie: dodaje static ARP dla trusted devices<br>
                    <br>
                    Link: <a href="vlan_migration_tool-final-v4-popup.html" style="color: #667eea; font-weight: bold;">vlan_migration_tool-final-v4-popup.html</a>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Zalety mechanizmu NetBan dla onboardingu:</strong>
                    ‚Ä¢ <strong>Bezpiecze≈Ñstwo:</strong> Nowe urzƒÖdzenia domy≈õlnie bez dostƒôpu (zero-trust)<br>
                    ‚Ä¢ <strong>Widoczno≈õƒá:</strong> Admin widzi wszystkie nowe urzƒÖdzenia po IP 100.x.x.x<br>
                    ‚Ä¢ <strong>Kontrola:</strong> ≈öwiadoma decyzja o dopuszczeniu urzƒÖdzenia do sieci<br>
                    ‚Ä¢ <strong>Automatyzacja:</strong> Generator VLAN upraszcza procedurƒô migracji<br>
                    ‚Ä¢ <strong>Audit trail:</strong> Historia zmian DHCP leases
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è KRYTYCZNE: UrzƒÖdzenia bez migracji NIE MAJƒÑ dostƒôpu</strong>
                    UrzƒÖdzenie, kt√≥re nie jest przypisane do sieci produkcyjnej (<code>10.XX.XX.XX</code> 
                    lub <code>172.18.254.0/23</code>) <strong>NIE MA dostƒôpu</strong> do Internetu oraz 
                    pozosta≈Çych urzƒÖdze≈Ñ w sieci. Jest to mechanizm bezpiecze≈Ñstwa zapobiegajƒÖcy 
                    nieautoryzowanemu dostƒôpowi.
                </div>
            </div>

            <!-- Section 3: Physical Architecture -->
            <div class="section">
                <div class="section-header">
                    <h2>3Ô∏è‚É£ Architektura fizyczna - 4 szafy</h2>
                </div>

                <div class="section-description">
                    Topologia fizyczna oparta na <strong>centralnej szafie Renault</strong> ≈ÇƒÖczƒÖcej siƒô trunk links 
                    z trzema szafami satelitarnymi (Ferrari, Peugeot, Lamborghini).
                </div>

                <div class="topology-diagram">
                    <pre>
                         Internet (ISP)
                              |
                              | WAN
                              ‚Üì
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  <strong>Szafa RENAULT</strong>      ‚îÇ
                    ‚îÇ  (Centralna)        ‚îÇ
                    ‚îÇ                     ‚îÇ
                    ‚îÇ  [Fortinet]         ‚îÇ ‚Üê Edge Security (Gateway + NAT + FW)
                    ‚îÇ      ‚Üì              ‚îÇ
                    ‚îÇ  [CCR2004-L3]       ‚îÇ ‚Üê Core L3 Switch + DHCP Server
                    ‚îÇ      ‚Üì              ‚îÇ
                    ‚îÇ  [USW Aggregation]  ‚îÇ ‚Üê Main Aggregation Switch
                    ‚îÇ      ‚Üì              ‚îÇ
                    ‚îÇ  [USW 24 PRO-R]     ‚îÇ ‚Üê Access Switch dla Renault
                    ‚îÇ                     ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ TRUNK (All VLANs)
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ
            ‚Üì              ‚Üì              ‚Üì              ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ Szafa        ‚îÇ ‚îÇ Szafa        ‚îÇ ‚îÇ Szafa        ‚îÇ ‚îÇ Szafa        ‚îÇ
    ‚îÇ <strong>FERRARI</strong>      ‚îÇ ‚îÇ <strong>PEUGEOT</strong>      ‚îÇ ‚îÇ <strong>LAMBORGHINI</strong>  ‚îÇ ‚îÇ (future)     ‚îÇ
    ‚îÇ              ‚îÇ ‚îÇ              ‚îÇ ‚îÇ              ‚îÇ ‚îÇ              ‚îÇ
    ‚îÇ USW 24 PRO-F ‚îÇ ‚îÇ USW 24 PRO-P ‚îÇ ‚îÇ USW 24 PRO-L ‚îÇ ‚îÇ              ‚îÇ
    ‚îÇ     ‚Üì        ‚îÇ ‚îÇ     ‚Üì        ‚îÇ ‚îÇ     ‚Üì        ‚îÇ ‚îÇ              ‚îÇ
    ‚îÇ HP/D-LINK    ‚îÇ ‚îÇ HP/D-LINK    ‚îÇ ‚îÇ HP/D-LINK    ‚îÇ ‚îÇ              ‚îÇ
    ‚îÇ     ‚Üì        ‚îÇ ‚îÇ     ‚Üì        ‚îÇ ‚îÇ     ‚Üì        ‚îÇ ‚îÇ              ‚îÇ
    ‚îÇ AP U6PRO     ‚îÇ ‚îÇ AP U6PRO     ‚îÇ ‚îÇ AP U6PRO     ‚îÇ ‚îÇ              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                ‚îÇ                ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    End Devices
              (Komputery, drukarki, IoT)
                    </pre>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üì¶ Zawarto≈õƒá szaf</h3>
                
                <div class="cabinet-grid">
                    <div class="cabinet-box">
                        <h3>üè¢ Szafa RENAULT (Centralna)</h3>
                        <table>
                            <tbody>
                                <tr>
                                    <td><strong>Fortinet</strong></td>
                                    <td><span class="tag tag-edge">EDGE</span></td>
                                </tr>
                                <tr>
                                    <td><strong>MikroTik CCR2004-16G-2S+</strong></td>
                                    <td><span class="tag tag-core">CORE L3</span></td>
                                </tr>
                                <tr>
                                    <td><strong>USW Aggregation</strong></td>
                                    <td><span class="tag tag-core">AGGREGATION</span></td>
                                </tr>
                                <tr>
                                    <td><strong>USW 24 PRO-R</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>AP U6PRO</strong></td>
                                    <td><span class="tag tag-access">WiFi</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="cabinet-box">
                        <h3>üè¢ Szafa FERRARI</h3>
                        <table>
                            <tbody>
                                <tr>
                                    <td><strong>USW 24 PRO-F</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>HP/D-LINK switch</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>AP U6PRO</strong></td>
                                    <td><span class="tag tag-access">WiFi</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                            <strong>VLANy:</strong> 110 (docelowo), 150, 170, 300
                        </div>
                    </div>

                    <div class="cabinet-box">
                        <h3>üè¢ Szafa PEUGEOT</h3>
                        <table>
                            <tbody>
                                <tr>
                                    <td><strong>USW 24 PRO-P</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>HP/D-LINK switch</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>AP U6PRO</strong></td>
                                    <td><span class="tag tag-access">WiFi</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                            <strong>VLANy:</strong> 120 (docelowo), 150, 170, 300
                        </div>
                    </div>

                    <div class="cabinet-box">
                        <h3>üè¢ Szafa LAMBORGHINI</h3>
                        <table>
                            <tbody>
                                <tr>
                                    <td><strong>USW 24 PRO-L</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>HP/D-LINK switch</strong></td>
                                    <td><span class="tag tag-access">ACCESS</span></td>
                                </tr>
                                <tr>
                                    <td><strong>AP U6PRO</strong></td>
                                    <td><span class="tag tag-access">WiFi</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                            <strong>VLANy:</strong> 130, 150, 170, 300
                        </div>
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Po≈ÇƒÖczenia trunk:</strong>
                    Wszystkie szafy satelitarne (Ferrari, Peugeot, Lamborghini) sƒÖ po≈ÇƒÖczone z <strong>USW Aggregation</strong> 
                    w szafie Renault za pomocƒÖ <strong>trunk links</strong> z wszystkimi VLANami tagged. To umo≈ºliwia centralne 
                    zarzƒÖdzanie VLANami i ≈Çatwe dodawanie nowych segment√≥w bez rekonfiguracji fizycznej.
                </div>
            </div>

            <!-- Section 4: Logical Architecture -->
            <div class="section">
                <div class="section-header">
                    <h2>4Ô∏è‚É£ Architektura logiczna - Flow ruchu</h2>
                </div>

                <div class="section-description">
                    Ruch sieciowy przechodzi przez <strong>3 warstwy</strong>: Edge (Fortinet), Core (CCR2004), 
                    Access (USW switches). Ka≈ºda warstwa ma okre≈õlonƒÖ rolƒô w procesie routingu i bezpiecze≈Ñstwa.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîÑ Flow pakietu: Klient ‚Üí Internet</h3>
                
                <div class="flow-container">
                    <div class="flow-step">
                        <strong>1. Klient</strong><br>
                        UrzƒÖdzenie ko≈Ñcowe (PC, drukarka, telefon)<br>
                        Otrzymuje IP z DHCP: 10.X.X.Y/24
                    </div>
                    <div class="flow-step">
                        <strong>2. Access Switch (USW 24 PRO)</strong><br>
                        L2 switching w ramach VLANu<br>
                        VLAN tagging na trunk do Aggregation
                    </div>
                    <div class="flow-step">
                        <strong>3. Aggregation Switch (USW Agg)</strong><br>
                        L2 aggregation i forwarding<br>
                        Przekazuje do CCR2004 (gateway .254)
                    </div>
                    <div class="flow-step">
                        <strong>4. Core L3 (CCR2004)</strong><br>
                        Inter-VLAN routing<br>
                        Forward do gateway .1 (Fortinet)
                    </div>
                    <div class="flow-step">
                        <strong>5. Edge Security (Fortinet)</strong><br>
                        Firewall filtering + NAT masquerade<br>
                        Wysy≈Ça do Internetu przez WAN
                    </div>
                    <div class="flow-step">
                        <strong>6. Internet</strong><br>
                        Pakiet dociera do celu
                    </div>
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Kluczowe adresy IP w ka≈ºdym VLANie:</strong>
                    ‚Ä¢ <strong>10.X.X.1</strong> - Gateway (Fortinet) - default route dla klient√≥w<br>
                    ‚Ä¢ <strong>10.X.X.254</strong> - CCR2004 interface - inter-VLAN routing<br>
                    ‚Ä¢ <strong>10.X.X.50-200</strong> - Pool produkcyjny DHCP (normalna praca)<br>
                    ‚Ä¢ <strong>100.X.X.100-150</strong> - Pool NetBan (izolacja problemowych urzƒÖdze≈Ñ)
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîÄ Komunikacja miƒôdzy VLANami</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>≈πr√≥d≈Ço</th>
                            <th>Cel</th>
                            <th>Status</th>
                            <th>Routing przez</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VLAN100 (Renault)</td>
                            <td>VLAN110 (Ferrari)</td>
                            <td><span class="tag tag-access">‚úÖ ALLOWED</span></td>
                            <td>CCR2004 ‚Üí Fortinet</td>
                        </tr>
                        <tr>
                            <td>VLAN110 (Ferrari)</td>
                            <td>VLAN300 (Serwery)</td>
                            <td><span class="tag tag-access">‚úÖ ALLOWED</span></td>
                            <td>CCR2004 ‚Üí Fortinet (grupa_robocza)</td>
                        </tr>
                        <tr>
                            <td>VLAN170 (Goscie)</td>
                            <td>VLAN100-140</td>
                            <td><span class="tag tag-isolated">‚ùå BLOCKED</span></td>
                            <td>Firewall DROP</td>
                        </tr>
                        <tr>
                            <td>VLAN150 (IoT)</td>
                            <td>Wszystkie 10.x.x.x</td>
                            <td><span class="tag tag-isolated">‚ùå BLOCKED</span></td>
                            <td>Firewall DROP (isolation)</td>
                        </tr>
                        <tr>
                            <td>VLAN160 (VoIP)</td>
                            <td>Wszystkie 10.x.x.x</td>
                            <td><span class="tag tag-isolated">‚ùå BLOCKED</span></td>
                            <td>Firewall DROP (isolation)</td>
                        </tr>
                        <tr>
                            <td>Dowolny VLAN</td>
                            <td>Internet</td>
                            <td><span class="tag tag-access">‚úÖ ALLOWED</span></td>
                            <td>CCR2004 ‚Üí Fortinet ‚Üí NAT ‚Üí WAN</td>
                        </tr>
                    </tbody>
                </table>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Address List "grupa_robocza":</strong>
                    VLANy produkcyjne (100, 110, 120, 130, 140, 300) nale≈ºƒÖ do <strong>grupa_robocza</strong> 
                    i mogƒÖ komunikowaƒá siƒô miƒôdzy sobƒÖ. Regu≈Ça firewall: <code>grupa_robocza ‚Üí grupa_robocza = ACCEPT</code>
                </div>
            </div>

            <!-- Section 5: VLANs -->
            <div class="section">
                <div class="section-header">
                    <h2>5Ô∏è‚É£ Segmentacja sieci - 12 VLAN√≥w</h2>
                </div>

                <div class="section-description">
                    Sieƒá podzielona na <strong>12 segment√≥w VLAN</strong> z r√≥≈ºnymi poziomami dostƒôpu i izolacji. 
                    Ka≈ºdy segment ma dedykowane zastosowanie i policy bezpiecze≈Ñstwa.
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>VLAN ID</th>
                            <th>Nazwa</th>
                            <th>Sieƒá</th>
                            <th>Kategoria</th>
                            <th>Przeznaczenie</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1</strong></td>
                            <td>UniFi_Mgmt</td>
                            <td>10.251.251.0/24</td>
                            <td><span class="vlan-badge vlan-mgmt">Management</span></td>
                            <td>ZarzƒÖdzanie UniFi (Controller, AP, switches)</td>
                        </tr>
                        <tr>
                            <td><strong>100</strong></td>
                            <td>Renault</td>
                            <td>10.100.100.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>G≈Ç√≥wna sieƒá Renault (komputery, infrastruktura)</td>
                        </tr>
                        <tr>
                            <td><strong>110</strong></td>
                            <td>Ferrari</td>
                            <td>10.110.110.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Sieƒá Ferrari (stacje robocze, zasoby)</td>
                        </tr>
                        <tr>
                            <td><strong>120</strong></td>
                            <td>Peugeot</td>
                            <td>10.120.120.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Sieƒá Peugeot (u≈ºytkownicy, aplikacje)</td>
                        </tr>
                        <tr>
                            <td><strong>130</strong></td>
                            <td>Lamborghini</td>
                            <td>10.130.130.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Sieƒá Lamborghini (workstations, zasoby)</td>
                        </tr>
                        <tr>
                            <td><strong>140</strong></td>
                            <td>Drukarki</td>
                            <td>10.140.140.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Drukarki sieciowe, skanery, MFP</td>
                        </tr>
                        <tr>
                            <td><strong>150</strong></td>
                            <td>IoT</td>
                            <td>10.150.150.0/24</td>
                            <td><span class="vlan-badge vlan-iot">Izolowany</span></td>
                            <td>UrzƒÖdzenia IoT (sensory, kamery, smart devices)</td>
                        </tr>
                        <tr>
                            <td><strong>160</strong></td>
                            <td>VoIP</td>
                            <td>10.160.160.0/24</td>
                            <td><span class="vlan-badge vlan-iot">Izolowany</span></td>
                            <td>Telefonia IP (telefony VoIP)</td>
                        </tr>
                        <tr>
                            <td><strong>170</strong></td>
                            <td>Goscie</td>
                            <td>10.170.170.0/24</td>
                            <td><span class="vlan-badge vlan-guest">Guest</span></td>
                            <td>WiFi dla go≈õci z Captive Portal</td>
                        </tr>
                        <tr>
                            <td><strong>180</strong></td>
                            <td>Backup_Net</td>
                            <td>10.180.180.0/24</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Sieƒá backupowa (dostƒôp whitelist)</td>
                        </tr>
                        <tr>
                            <td><strong>199</strong></td>
                            <td>Blackhole</td>
                            <td>10.199.199.0/24</td>
                            <td><span class="vlan-badge vlan-iot">Blackhole</span></td>
                            <td>Kwarantanna dla problemowych urzƒÖdze≈Ñ</td>
                        </tr>
                        <tr>
                            <td><strong>250</strong></td>
                            <td>Mgmt</td>
                            <td>10.250.250.0/24</td>
                            <td><span class="vlan-badge vlan-mgmt">Management</span></td>
                            <td>Management (rezerwowy, nie u≈ºywany)</td>
                        </tr>
                        <tr>
                            <td><strong>300</strong></td>
                            <td>Serwery</td>
                            <td>172.18.254.0/23</td>
                            <td><span class="vlan-badge vlan-prod">Produkcyjny</span></td>
                            <td>Infrastruktura serwerowa</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è VLAN naming convention:</strong>
                    VLANy nazwane sƒÖ wed≈Çug schematu: <code>vlanXXX_Nazwa</code> gdzie XXX to VLAN ID.<br>
                    Na przyk≈Çad: <code>vlan110_Ferrari</code>, <code>vlan300_Serwery</code>
                </div>
            </div>

            <!-- Section 6: Key Devices -->
            <div class="section">
                <div class="section-header">
                    <h2>6Ô∏è‚É£ Funkcje kluczowych urzƒÖdze≈Ñ</h2>
                </div>

                <div class="section-description">
                    Ka≈ºde urzƒÖdzenie core pe≈Çni specyficznƒÖ rolƒô w infrastrukturze. Podzia≈Ç funkcji zapewnia 
                    separacjƒô warstw bezpiecze≈Ñstwa i u≈Çatwia troubleshooting.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üî• Fortinet (Edge Security)</h3>
                <div class="cabinet-box">
                    <table>
                        <tbody>
                            <tr>
                                <td><strong>Rola</strong></td>
                                <td>Default Gateway + NAT Router + Firewall</td>
                            </tr>
                            <tr>
                                <td><strong>Model</strong></td>
                                <td>Fortinet FortiGate (symulowany: MikroTik C52iG)</td>
                            </tr>
                            <tr>
                                <td><strong>IP w VLANach</strong></td>
                                <td>10.X.X.1 (gateway dla wszystkich sieci)</td>
                            </tr>
                            <tr>
                                <td><strong>WAN Interface</strong></td>
                                <td>ether1 - DHCP client od ISP</td>
                            </tr>
                            <tr>
                                <td><strong>LAN Interface</strong></td>
                                <td>ether4 (trunk) + bridge1</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px;">
                        <strong>Funkcje:</strong><br>
                        ‚Ä¢ <strong>Default Gateway:</strong> Wszystkie VLANy u≈ºywajƒÖ .1 jako gateway<br>
                        ‚Ä¢ <strong>NAT/Masquerade:</strong> Translacja adres√≥w prywatnych ‚Üí publiczny IP WAN<br>
                        ‚Ä¢ <strong>Firewall:</strong> Filtering, isolation rules, NetBan mechanism<br>
                        ‚Ä¢ <strong>DNS Proxy:</strong> Forward DNS queries dla klient√≥w<br>
                        ‚Ä¢ <strong>WiFi AP:</strong> Dwa interfejsy WiFi (2.4GHz + 5GHz)
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üñ•Ô∏è MikroTik CCR2004-16G-2S+ (Core L3)</h3>
                <div class="cabinet-box">
                    <table>
                        <tbody>
                            <tr>
                                <td><strong>Rola</strong></td>
                                <td>Core L3 Switch + DHCP Server</td>
                            </tr>
                            <tr>
                                <td><strong>Model</strong></td>
                                <td>CCR2004-16G-2S+ (RouterOS 7.18.2)</td>
                            </tr>
                            <tr>
                                <td><strong>IP w VLANach</strong></td>
                                <td>10.X.X.254 (nie jest gateway!)</td>
                            </tr>
                            <tr>
                                <td><strong>Uplink</strong></td>
                                <td>ether2 ‚Üí Fortinet</td>
                            </tr>
                            <tr>
                                <td><strong>Trunk</strong></td>
                                <td>sfp-sfpplus2 ‚Üí USW Aggregation</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px;">
                        <strong>Funkcje:</strong><br>
                        ‚Ä¢ <strong>Inter-VLAN Routing:</strong> Routing miƒôdzy 12 VLANami<br>
                        ‚Ä¢ <strong>DHCP Server:</strong> 13 serwer√≥w DHCP (dual-pool system)<br>
                        ‚Ä¢ <strong>Dual-Pool DHCP:</strong> Produkcja (10.x.x.x) + NetBan (100.x.x.x)<br>
                        ‚Ä¢ <strong>Static ARP:</strong> Trusted devices i gateways<br>
                        ‚Ä¢ <strong>Bridge Filters:</strong> DHCP snooping na trunk<br>
                        ‚Ä¢ <strong>Custom Scripts:</strong> drop-host-v2, auto-cleanup guests
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîå UniFi USW Switches (Access Layer)</h3>
                <div class="cabinet-box">
                    <table>
                        <tbody>
                            <tr>
                                <td><strong>USW Aggregation</strong></td>
                                <td>Main aggregation switch w szafie Renault</td>
                            </tr>
                            <tr>
                                <td><strong>USW 24 PRO-R</strong></td>
                                <td>Access switch dla szafy Renault</td>
                            </tr>
                            <tr>
                                <td><strong>USW 24 PRO-F</strong></td>
                                <td>Access switch dla szafy Ferrari</td>
                            </tr>
                            <tr>
                                <td><strong>USW 24 PRO-P</strong></td>
                                <td>Access switch dla szafy Peugeot</td>
                            </tr>
                            <tr>
                                <td><strong>USW 24 PRO-L</strong></td>
                                <td>Access switch dla szafy Lamborghini</td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 15px;">
                        <strong>Funkcje:</strong><br>
                        ‚Ä¢ <strong>L2 Switching:</strong> Forwarding w ramach VLANu<br>
                        ‚Ä¢ <strong>VLAN Tagging:</strong> Tagged na trunk, untagged/access na portach ko≈Ñcowych<br>
                        ‚Ä¢ <strong>PoE:</strong> Zasilanie AP U6PRO i innych urzƒÖdze≈Ñ PoE<br>
                        ‚Ä¢ <strong>Aggregation:</strong> USW Agg ≈ÇƒÖczy wszystkie trunk links z szaf satelitarnych
                    </div>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üì° UniFi AP U6PRO (WiFi Access Points)</h3>
                <div class="cabinet-box">
                    <div style="margin-top: 15px;">
                        <strong>Funkcje:</strong><br>
                        ‚Ä¢ <strong>WiFi Coverage:</strong> Jeden AP w ka≈ºdej szafie (Ferrari, Peugeot, Lambo, Renault)<br>
                        ‚Ä¢ <strong>Multi-SSID:</strong> Mo≈ºliwo≈õƒá mapowania r√≥≈ºnych SSID do r√≥≈ºnych VLAN√≥w<br>
                        ‚Ä¢ <strong>Captive Portal:</strong> Guest WiFi (VLAN170) z portalem uwierzytelniajƒÖcym<br>
                        ‚Ä¢ <strong>ZarzƒÖdzanie:</strong> Centralne przez UniFi Controller (10.251.251.10)<br>
                        ‚Ä¢ <strong>PoE:</strong> Zasilane przez USW switches
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Separacja funkcji (Best Practice):</strong>
                    ‚Ä¢ <strong>Fortinet</strong> = Security perimeter (firewall, NAT)<br>
                    ‚Ä¢ <strong>CCR2004</strong> = Core routing + DHCP (business logic)<br>
                    ‚Ä¢ <strong>USW switches</strong> = L2 switching (data plane)<br>
                    ‚Ä¢ <strong>AP</strong> = WiFi access (wireless connectivity)<br>
                    <br>
                    Ta separacja umo≈ºliwia niezale≈ºne troubleshooting i ≈ÇatwƒÖ wymianƒô/upgrade poszczeg√≥lnych komponent√≥w.
                </div>
            </div>

            <!-- Section 7: Security -->
            <div class="section">
                <div class="section-header">
                    <h2>7Ô∏è‚É£ Zabezpieczenia wielowarstwowe</h2>
                </div>

                <div class="section-description">
                    Infrastruktura wykorzystuje <strong>defense-in-depth</strong> strategy z zabezpieczeniami 
                    na poziomie L2 (bridge filters), L3 (firewall), L4-7 (NAT, application filtering).
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üõ°Ô∏è Warstwy bezpiecze≈Ñstwa</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>Warstwa</th>
                            <th>Mechanizm</th>
                            <th>Gdzie</th>
                            <th>Cel</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>L2</strong></td>
                            <td>VLAN Filtering</td>
                            <td>CCR2004, USW</td>
                            <td>Hardware isolation miƒôdzy VLANami</td>
                        </tr>
                        <tr>
                            <td><strong>L2</strong></td>
                            <td>Bridge Filters</td>
                            <td>CCR2004</td>
                            <td>DHCP snooping (drop rogue DHCP)</td>
                        </tr>
                        <tr>
                            <td><strong>L2</strong></td>
                            <td>ARP reply-only</td>
                            <td>CCR2004</td>
                            <td>Zapobiega ARP storms</td>
                        </tr>
                        <tr>
                            <td><strong>L2</strong></td>
                            <td>Static ARP</td>
                            <td>CCR2004</td>
                            <td>Chroni przed ARP spoofing</td>
                        </tr>
                        <tr>
                            <td><strong>L3</strong></td>
                            <td>Stateful Firewall</td>
                            <td>Fortinet</td>
                            <td>Connection tracking (est/rel/invalid)</td>
                        </tr>
                        <tr>
                            <td><strong>L3</strong></td>
                            <td>Network Isolation</td>
                            <td>Fortinet</td>
                            <td>Izolacja: Guests (170), IoT (150), VoIP (160)</td>
                        </tr>
                        <tr>
                            <td><strong>L3</strong></td>
                            <td>Management Protection</td>
                            <td>Fortinet</td>
                            <td>VLAN1, VLAN250 chronione (drop all)</td>
                        </tr>
                        <tr>
                            <td><strong>L3</strong></td>
                            <td>NetBan Mechanism</td>
                            <td>Fortinet</td>
                            <td>Drop ruchu z puli 100.x.x.x (fake DHCP)</td>
                        </tr>
                        <tr>
                            <td><strong>L4</strong></td>
                            <td>NAT/Masquerade</td>
                            <td>Fortinet</td>
                            <td>Ukrywa topologiƒô wewnƒôtrznƒÖ</td>
                        </tr>
                        <tr>
                            <td><strong>WiFi</strong></td>
                            <td>WPA2/WPA3-PSK</td>
                            <td>AP U6PRO, Fortinet WiFi</td>
                            <td>Szyfrowanie ruchu wireless</td>
                        </tr>
                    </tbody>
                </table>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è NetBan Mechanism - kluczowa funkcja security:</strong>
                    Dual-pool DHCP system pozwala na dynamiczne przenoszenie urzƒÖdze≈Ñ miƒôdzy pulami:<br>
                    ‚Ä¢ <strong>Pool produkcyjny (10.x.x.x):</strong> Normalna praca, pe≈Çny dostƒôp<br>
                    ‚Ä¢ <strong>Pool NetBan (100.x.x.x):</strong> Fake pool, firewall DROP ca≈Çego ruchu<br>
                    <br>
                    Gdy admin stwierdzi problematyczne urzƒÖdzenie, zmienia jego DHCP lease na NetBan pool. 
                    UrzƒÖdzenie po odnowieniu lease dostaje IP 100.x.x.x i jest automatycznie blokowane przez 
                    firewall na Fortinet (pierwsza regu≈Ça).
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Izolacja segment√≥w:</strong>
                    ‚Ä¢ <strong>VLAN170 (Goscie):</strong> Dostƒôp tylko do Internetu + Captive Portal (10.251.251.10:8443)<br>
                    ‚Ä¢ <strong>VLAN150 (IoT):</strong> Ca≈Çkowita izolacja od RFC1918, tylko Internet<br>
                    ‚Ä¢ <strong>VLAN160 (VoIP):</strong> Izolacja od sieci wewnƒôtrznych, tylko Internet<br>
                    ‚Ä¢ <strong>VLAN180 (Backup_Net):</strong> Dostƒôp tylko dla whitelist (address-list: BackupNet_allow)<br>
                    ‚Ä¢ <strong>VLAN199 (Blackhole):</strong> Kwarantanna, minimal connectivity
                </div>
            </div>

            <!-- Section 8: DHCP -->
            <div class="section">
                <div class="section-header">
                    <h2>8Ô∏è‚É£ DHCP i adresacja automatyczna</h2>
                </div>

                <div class="section-description">
                    CCR2004 obs≈Çuguje <strong>13 serwer√≥w DHCP</strong> z innowacyjnym dual-pool system 
                    umo≈ºliwiajƒÖcym elastyczne zarzƒÖdzanie dostƒôpem do sieci.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîÑ Dual-Pool DHCP System</h3>
                
                <div class="info-box">
                    <strong>‚ÑπÔ∏è Jak dzia≈Ça dual-pool:</strong>
                    Ka≈ºdy VLAN produkcyjny posiada <strong>dwie pule DHCP</strong>:<br>
                    <br>
                    <strong>1. Pula produkcyjna (10.x.x.x):</strong><br>
                    ‚Ä¢ Range: 10.X.X.50-200<br>
                    ‚Ä¢ Gateway: 10.X.X.1 (Fortinet)<br>
                    ‚Ä¢ DNS: 1.1.1.1, 8.8.8.8<br>
                    ‚Ä¢ Access: Pe≈Çny (wed≈Çug firewall rules)<br>
                    <br>
                    <strong>2. Pula NetBan (100.x.x.x):</strong><br>
                    ‚Ä¢ Range: 100.X.X.100-150<br>
                    ‚Ä¢ Gateway: 10.X.X.1 (Fortinet - ale firewall DROP!)<br>
                    ‚Ä¢ DNS: 1.1.1.1, 8.8.8.8<br>
                    ‚Ä¢ Access: <strong>ZABLOKOWANY</strong> (firewall regu≈Ça #1)
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Procedura NetBan urzƒÖdzenia:</strong>
                    1. Admin identyfikuje problematyczne urzƒÖdzenie (MAC lub IP)<br>
                    2. Na CCR2004: usuwa obecny lease produkcyjny<br>
                    3. Tworzy static lease z MAC ‚Üí IP z puli NetBan (100.x.x.x)<br>
                    4. UrzƒÖdzenie przy renewal dostaje IP 100.x.x.x<br>
                    5. Fortinet automatycznie DROP pakiety od 100.x.x.x (regu≈Ça firewall)<br>
                    6. UrzƒÖdzenie ma connectivity (ping gateway dzia≈Ça), ale brak dostƒôpu do sieci<br>
                    <br>
                    <strong>Alternatywnie:</strong> U≈ºyj custom script <code>drop-host-v2</code> dla instant ban 
                    (usuwa ARP, lease, conntrack, dodaje L2 block).
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìã DHCP Servers Overview</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>VLAN</th>
                            <th>Server Name</th>
                            <th>Pool Type</th>
                            <th>Lease Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VLAN1</td>
                            <td>dhcp_VLAN1_UniFi_Mgmt</td>
                            <td>Produkcja (10.251.251.50-253)</td>
                            <td>1h</td>
                        </tr>
                        <tr>
                            <td>VLAN100</td>
                            <td>dhcp_VLAN100_NetBan</td>
                            <td>NetBan (100.100.100.x)</td>
                            <td>10m</td>
                        </tr>
                        <tr>
                            <td>VLAN110</td>
                            <td>dhcp_VLAN110_NetBan</td>
                            <td>NetBan (100.110.110.x)</td>
                            <td>1h</td>
                        </tr>
                        <tr>
                            <td>VLAN170</td>
                            <td>dhcp_VLAN170_Goscie</td>
                            <td>Produkcja (10.170.170.10-250)</td>
                            <td>4h (auto-cleanup)</td>
                        </tr>
                        <tr>
                            <td>VLAN300</td>
                            <td>dhcp_VLAN300_NetBan</td>
                            <td>Dual: prod 172.18.254.x + NetBan 100.18.254.x</td>
                            <td>10m</td>
                        </tr>
                    </tbody>
                </table>

                <div class="success-box">
                    <strong>‚úÖ Static DHCP Leases (Trusted Devices):</strong>
                    Niekt√≥re urzƒÖdzenia posiadajƒÖ <strong>statyczne rezerwacje DHCP</strong> w puli produkcyjnej:<br>
                    ‚Ä¢ UniFi Controllers (10.251.251.10, .15, .249, .251)<br>
                    ‚Ä¢ Trusted workstations (darek-lapXY, darekWiFi, wifiRPI, test-kopia)<br>
                    ‚Ä¢ Static leases zapewniajƒÖ przewidywalny IP dla kluczowych urzƒÖdze≈Ñ
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Auto-cleanup dla VLAN170 (Goscie):</strong>
                    Scheduler automatycznie usuwa nieaktywne leases go≈õci:<br>
                    ‚Ä¢ Interval: co 6 godzin<br>
                    ‚Ä¢ Warunek: status=waiting AND last-seen>24h<br>
                    ‚Ä¢ Cel: Zapobiega wyczerpaniu puli DHCP dla go≈õci
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Dokumentacja wygenerowana:</strong> 2025-10-23</p>
            <p><strong>≈πr√≥d≈Ça:</strong> ccr-all-23102025.rsc, malyMT-all-23102025.rsc, SiecDiagram.png</p>
            <p style="margin-top: 15px; font-size: 0.9em;">
                <strong>PietrzakVLAN-Katowice</strong> | Network Architecture Summary
            </p>
            <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
                ¬© 2025 | Katowice, ≈ölƒÖsk | Multi-Site Network Infrastructure
            </p>
        </div>
    </div>
</body>
</html>
