<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Przewodnik U≈ºytkownika - drop-host Scripts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 50px;
        }
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .section-header h2 {
            font-size: 1.8em;
        }
        .step-box {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
        }
        .step-box h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            margin: 15px 0;
        }
        .code-block code {
            display: block;
            white-space: pre;
        }
        .comment {
            color: #6a9955;
        }
        .keyword {
            color: #569cd6;
        }
        .string {
            color: #ce9178;
        }
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #155724;
            line-height: 1.6;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #856404;
            line-height: 1.6;
        }
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #721c24;
            line-height: 1.6;
        }
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            line-height: 1.6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        tbody tr:hover {
            background: #f8f9fa;
        }
        .decision-tree {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 30px;
            margin: 25px 0;
            font-family: monospace;
            line-height: 2;
        }
        .script-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        .card {
            background: white;
            border: 3px solid;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
        }
        .card.soft {
            border-color: #28a745;
        }
        .card.hard {
            border-color: #dc3545;
        }
        .card h3 {
            font-size: 2em;
            margin-bottom: 15px;
        }
        .card.soft h3 {
            color: #28a745;
        }
        .card.hard h3 {
            color: #dc3545;
        }
        .command-box {
            background: #2d2d2d;
            color: #4EC9B0;
            padding: 15px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }
        .footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            color: #666;
            border-top: 1px solid #dee2e6;
        }
        .tag {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85em;
            margin: 5px;
        }
        .tag-soft {
            background: #d4edda;
            color: #155724;
        }
        .tag-hard {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìñ Przewodnik U≈ºytkownika</h1>
            <p>drop-host-soft & drop-host-v2 - Praktyczne u≈ºycie krok po kroku</p>
        </div>

        <!-- Content -->
        <div class="content">

            <!-- Quick Start -->
            <div class="section">
                <div class="section-header">
                    <h2>‚ö° Quick Start - 30 sekund</h2>
                </div>

                <div class="script-card">
                    <div class="card soft">
                        <h3>üßπ drop-host-soft</h3>
                        <p style="margin: 15px 0; font-size: 1.1em;"><strong>Czyszczenie bez blokowania</strong></p>
                        <div class="command-box">
:global HOSTID "MAC-LUB-IP"<br>
/system script run drop-host-soft
                        </div>
                        <p style="margin-top: 15px; color: #28a745; font-weight: bold;">‚úÖ UrzƒÖdzenie mo≈ºe wr√≥ciƒá</p>
                    </div>

                    <div class="card hard">
                        <h3>üö´ drop-host-v2</h3>
                        <p style="margin: 15px 0; font-size: 1.1em;"><strong>Blokada permanentna</strong></p>
                        <div class="command-box">
:global HOSTID "MAC-LUB-IP"<br>
/system script run drop-host-v2
                        </div>
                        <p style="margin-top: 15px; color: #dc3545; font-weight: bold;">üö´ UrzƒÖdzenie zablokowane</p>
                    </div>
                </div>

                <div class="info-box">
                    <strong>üí° Kt√≥ry wybraƒá?</strong><br>
                    ‚Ä¢ <strong>Zez≈Çomowanie PC / wymiana urzƒÖdzenia / maintenance?</strong> ‚Üí drop-host-soft<br>
                    ‚Ä¢ <strong>Security incident / malware / unauthorized device?</strong> ‚Üí drop-host-v2
                </div>
            </div>

            <!-- Section 1: Installation -->
            <div class="section">
                <div class="section-header">
                    <h2>1Ô∏è‚É£ Instalacja skrypt√≥w</h2>
                </div>

                <div class="step-box">
                    <h3>Opcja A: Import pliku .rsc (≈ÅATWIEJSZA) ‚úÖ</h3>
                    <p style="margin-bottom: 15px;">Je≈õli masz plik <code>drop-host-soft.rsc</code>:</p>
                    
                    <strong>Krok 1:</strong> Wgraj plik do MikroTik
                    <ul style="margin: 10px 0 15px 20px; line-height: 1.8;">
                        <li>WinBox: Files ‚Üí Drag & Drop plik .rsc</li>
                        <li>FTP: Wgraj do g≈Ç√≥wnego katalogu</li>
                        <li>WebFig: Files ‚Üí Upload</li>
                    </ul>

                    <strong>Krok 2:</strong> Zaimportuj skrypt
                    <div class="code-block">
                        <code><span class="comment"># W MikroTik terminal:</span>
<span class="keyword">/import</span> drop-host-soft.rsc

<span class="comment"># Zobaczysz:</span>
<span class="comment"># Script 'drop-host-soft' added successfully</span></code>
                    </div>

                    <strong>Krok 3:</strong> Sprawd≈∫ instalacjƒô
                    <div class="code-block">
                        <code><span class="keyword">/system script print</span>

<span class="comment"># Powiniene≈õ zobaczyƒá:</span>
<span class="comment"># 0 name="drop-host-soft" ...</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Opcja B: Rƒôczne dodanie (je≈õli nie masz pliku .rsc)</h3>
                    <p style="margin-bottom: 15px;">Skopiuj ca≈Çy kod z dokumentacji i wklej do MikroTik terminal:</p>

                    <div class="code-block">
                        <code><span class="comment"># Skopiuj pe≈Çen kod z dokumentacji:</span>
<span class="keyword">/system script add</span> name=drop-host-soft policy=\
ftp,reboot,read,write,policy,test,password,sniff,sensitive,romon source="..."

<span class="comment"># Wklej do terminala i naci≈õnij Enter</span></code>
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Powt√≥rz procedurƒô dla drop-host-v2!</strong><br>
                    Zainstaluj oba skrypty aby mieƒá pe≈ÇnƒÖ funkcjonalno≈õƒá.
                </div>
            </div>

            <!-- Section 2: Basic Usage -->
            <div class="section">
                <div class="section-header">
                    <h2>2Ô∏è‚É£ Podstawowe u≈ºycie - Krok po kroku</h2>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìù Scenariusz 1: Zez≈Çomowanie PC (drop-host-soft)</h3>

                <div class="step-box">
                    <h3>Sytuacja</h3>
                    <p>Komputer z MAC address <code>34:29:8F:74:EC:46</code> zosta≈Ç zez≈Çomowany. Musisz wyczy≈õciƒá jego wpisy z routera aby zwolniƒá adres IP w puli DHCP.</p>
                </div>

                <div class="step-box">
                    <h3>Krok 1: Po≈ÇƒÖcz siƒô z MikroTik</h3>
                    <ul style="margin: 10px 0 0 20px; line-height: 1.8;">
                        <li>WinBox: IP routera ‚Üí Login</li>
                        <li>SSH: <code>ssh admin@IP-routera</code></li>
                        <li>Telnet: <code>telnet IP-routera</code></li>
                    </ul>
                </div>

                <div class="step-box">
                    <h3>Krok 2: Znajd≈∫ MAC lub IP urzƒÖdzenia</h3>
                    <p style="margin-bottom: 15px;">Mo≈ºesz u≈ºyƒá MAC address lub IP address (skrypt znajdzie oba):</p>
                    <div class="code-block">
                        <code><span class="comment"># Znajd≈∫ DHCP lease po MAC</span>
<span class="keyword">/ip dhcp-server lease print</span> where mac-address~<span class="string">"34:29"</span>

<span class="comment"># Lub znajd≈∫ po IP</span>
<span class="keyword">/ip dhcp-server lease print</span> where address~<span class="string">"10.110.110"</span>

<span class="comment"># Output przyk≈Çadowy:</span>
<span class="comment"># 0 10.110.110.22  34:29:8F:74:EC:46  bound    dhcp_VLAN110_NetBan</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 3: Ustaw zmiennƒÖ HOSTID</h3>
                    <div class="code-block">
                        <code><span class="comment"># Mo≈ºesz u≈ºyƒá MAC:</span>
<span class="keyword">:global</span> HOSTID <span class="string">"34:29:8F:74:EC:46"</span>

<span class="comment"># LUB IP:</span>
<span class="keyword">:global</span> HOSTID <span class="string">"10.110.110.22"</span>

<span class="comment"># Skrypt automatycznie znajdzie oba</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 4: Uruchom skrypt drop-host-soft</h3>
                    <div class="code-block">
                        <code><span class="keyword">/system script run</span> drop-host-soft</code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 5: Sprawd≈∫ output</h3>
                    <p style="margin-bottom: 15px;">Zobaczysz szczeg√≥≈Çowy raport co zosta≈Ço wyczyszczone:</p>
                    <div class="code-block">
                        <code>drop-host-soft: cel=34:29:8F:74:EC:46 -> IP=10.110.110.22, MAC=34:29:8F:74:EC:46
drop-host-soft: ARP usuniƒôty dla IP 10.110.110.22
drop-host-soft: ARP usuniƒôty dla MAC 34:29:8F:74:EC:46
drop-host-soft: lease DHCP usuniƒôty (MAC) 34:29:8F:74:EC:46
drop-host-soft: bridge-host usuniƒôty dla MAC 34:29:8F:74:EC:46
drop-host-soft: bridge-host usuniƒôty dla IP 10.110.110.22
drop-host-soft: conntrack rm src=10.110.110.22
drop-host-soft: conntrack rm dst=10.110.110.22
drop-host-soft: OK -> IP=10.110.110.22, MAC=34:29:8F:74:EC:46 (SOFT - bez blokady)</code>
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Gotowe!</strong><br>
                    ‚Ä¢ Wszystkie wpisy routera dla tego urzƒÖdzenia sƒÖ wyczyszczone<br>
                    ‚Ä¢ Adres IP 10.110.110.22 jest zwolniony w puli DHCP<br>
                    ‚Ä¢ Nowe urzƒÖdzenia mogƒÖ dostaƒá ten IP<br>
                    ‚Ä¢ Je≈õli PC zostanie przypadkowo ponownie pod≈ÇƒÖczony, dostanie nowy DHCP lease
                </div>

                <h3 style="margin: 50px 0 15px 0; color: #667eea;">üö® Scenariusz 2: Security Incident (drop-host-v2)</h3>

                <div class="step-box">
                    <h3>Sytuacja</h3>
                    <p>Komputer <code>10.110.110.55</code> zosta≈Ç zainfekowany malware i skanuje sieƒá. Musisz NATYCHMIAST odciƒÖƒá go od sieci i zablokowaƒá permanentnie.</p>
                </div>

                <div class="step-box">
                    <h3>Krok 1-2: Po≈ÇƒÖcz siƒô i znajd≈∫ urzƒÖdzenie</h3>
                    <p>(Tak samo jak w scenariuszu 1)</p>
                </div>

                <div class="step-box">
                    <h3>Krok 3: Ustaw HOSTID i uruchom drop-host-v2</h3>
                    <div class="code-block">
                        <code><span class="comment"># Szybka reakcja - u≈ºyj IP (szybsze)</span>
<span class="keyword">:global</span> HOSTID <span class="string">"10.110.110.55"</span>
<span class="keyword">/system script run</span> drop-host-v2</code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 4: Sprawd≈∫ output</h3>
                    <div class="code-block">
                        <code>drop-host-v2: cel=10.110.110.55 -> IP=10.110.110.55, MAC=D8:3A:DD:ED:7F:1B
drop-host-v2: ARP usuniƒôty dla IP 10.110.110.55
drop-host-v2: ARP usuniƒôty dla MAC D8:3A:DD:ED:7F:1B
drop-host-v2: lease DHCP usuniƒôty (MAC) D8:3A:DD:ED:7F:1B
drop-host-v2: bridge-host usuniƒôty dla MAC D8:3A:DD:ED:7F:1B
drop-host-v2: bridge-host usuniƒôty dla IP 10.110.110.55
drop-host-v2: conntrack rm src=10.110.110.55
drop-host-v2: conntrack rm dst=10.110.110.55
<strong>drop-host-v2: dodano blokadƒô L2 dla MAC D8:3A:DD:ED:7F:1B</strong>
drop-host-v2: OK -> IP=10.110.110.55, MAC=D8:3A:DD:ED:7F:1B</code>
                    </div>
                </div>

                <div class="danger-box">
                    <strong>üö´ UWAGA: Permanent block aktywny!</strong><br>
                    ‚Ä¢ UrzƒÖdzenie jest NATYCHMIAST odciƒôte od sieci<br>
                    ‚Ä¢ Wszystkie aktywne po≈ÇƒÖczenia przerwane<br>
                    ‚Ä¢ <strong>Bridge filter DROP</strong> dodany - permanent block<br>
                    ‚Ä¢ Nawet po reboot urzƒÖdzenie NIE po≈ÇƒÖczy siƒô do sieci<br>
                    ‚Ä¢ Wymaga rƒôcznego odblokowania przez admina
                </div>
            </div>

            <!-- Section 3: Verification -->
            <div class="section">
                <div class="section-header">
                    <h2>3Ô∏è‚É£ Weryfikacja - Jak sprawdziƒá czy zadzia≈Ça≈Ço?</h2>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">‚úÖ Po drop-host-soft</h3>

                <div class="code-block">
                    <code><span class="comment"># 1. Sprawd≈∫ DHCP leases (powinno byƒá puste)</span>
<span class="keyword">/ip dhcp-server lease print</span> where mac-address=<span class="string">"34:29:8F:74:EC:46"</span>
<span class="comment"># Wynik: (pusty)</span>

<span class="comment"># 2. Sprawd≈∫ ARP table (powinno byƒá puste)</span>
<span class="keyword">/ip arp print</span> where address=<span class="string">"10.110.110.22"</span>
<span class="comment"># Wynik: (pusty)</span>

<span class="comment"># 3. Sprawd≈∫ bridge host table (powinno byƒá puste)</span>
<span class="keyword">/interface bridge host print</span> where mac-address=<span class="string">"34:29:8F:74:EC:46"</span>
<span class="comment"># Wynik: (pusty)</span>

<span class="comment"># 4. Sprawd≈∫ logi</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host-soft"</span>
<span class="comment"># Zobaczysz pe≈ÇnƒÖ historiƒô operacji</span></code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üö´ Po drop-host-v2</h3>

                <div class="code-block">
                    <code><span class="comment"># 1. NAJWA≈ªNIEJSZE: Sprawd≈∫ bridge filter (permanent block)</span>
<span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2"</span>

<span class="comment"># Output przyk≈Çadowy:</span>
<span class="comment"># 0   ;;; drop-host-v2 block D8:3A:DD:ED:7F:1B</span>
<span class="comment">#     chain=forward action=drop mac-src-address=D8:3A:DD:ED:7F:1B</span>
<span class="comment"># ‚òùÔ∏è To jest permanent block!</span>

<span class="comment"># 2. Sprawd≈∫ DHCP leases (powinno byƒá puste)</span>
<span class="keyword">/ip dhcp-server lease print</span> where mac-address=<span class="string">"D8:3A:DD:ED:7F:1B"</span>

<span class="comment"># 3. Sprawd≈∫ logi</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host-v2"</span></code>
                </div>
            </div>

            <!-- Section 4: Unblocking -->
            <div class="section">
                <div class="section-header">
                    <h2>4Ô∏è‚É£ Odblokowanie urzƒÖdzenia (tylko drop-host-v2)</h2>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Uwaga:</strong> drop-host-soft NIE blokuje urzƒÖdze≈Ñ permanentnie, wiƒôc nie wymaga odblokowania. Ta sekcja dotyczy TYLKO drop-host-v2.
                </div>

                <div class="step-box">
                    <h3>Krok 1: Znajd≈∫ bridge filter rule</h3>
                    <div class="code-block">
                        <code><span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2 block"</span>

<span class="comment"># Output:</span>
<span class="comment"># 0   ;;; drop-host-v2 block D8:3A:DD:ED:7F:1B</span>
<span class="comment">#     chain=forward action=drop mac-src-address=D8:3A:DD:ED:7F:1B</span>
<span class="comment">#</span>
<span class="comment"># Zapamiƒôtaj numer (0 w tym przyk≈Çadzie)</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 2: Usu≈Ñ blokadƒô</h3>
                    <div class="code-block">
                        <code><span class="comment"># Usu≈Ñ regu≈Çƒô bridge filter (zmie≈Ñ 0 na w≈Ça≈õciwy numer)</span>
<span class="keyword">/interface bridge filter remove</span> 0

<span class="comment"># Bez output = sukces</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 3: (Opcjonalnie) Dodaj DHCP lease</h3>
                    <p style="margin-bottom: 15px;">Je≈õli chcesz aby urzƒÖdzenie dosta≈Ço z powrotem dostƒôp do sieci produkcyjnej:</p>
                    <div class="code-block">
                        <code><span class="comment"># Opcja A: U≈ºyj Generator Przenoszenia VLAN (zalecane)</span>
<span class="comment"># - Otw√≥rz narzƒôdzie VLAN Migration Tool</span>
<span class="comment"># - Wpisz MAC: D8:3A:DD:ED:7F:1B</span>
<span class="comment"># - Wybierz docelowƒÖ sieƒá produkcyjnƒÖ</span>
<span class="comment"># - Skopiuj i wykonaj wygenerowane komendy</span>

<span class="comment"># Opcja B: Rƒôcznie dodaj lease</span>
<span class="keyword">/ip dhcp-server lease add</span> \
    mac-address=<span class="string">D8:3A:DD:ED:7F:1B</span> \
    address=<span class="string">10.110.110.55</span> \
    server=<span class="string">dhcp_VLAN110_Ferrari</span> \
    comment=<span class="string">"Restored after security incident"</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>Krok 4: Odn√≥w DHCP na urzƒÖdzeniu ko≈Ñcowym</h3>
                    <p style="margin-bottom: 15px;">Na komputerze/urzƒÖdzeniu:</p>
                    <div class="code-block">
                        <code><span class="comment"># Windows (CMD jako Administrator):</span>
ipconfig /release
ipconfig /renew

<span class="comment"># Linux:</span>
sudo dhclient -r
sudo dhclient

<span class="comment"># Mac:</span>
<span class="comment"># System Preferences > Network > Advanced > TCP/IP > Renew DHCP Lease</span></code>
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úÖ UrzƒÖdzenie odblokowane!</strong><br>
                    ‚Ä¢ Bridge filter usuniƒôty - urzƒÖdzenie mo≈ºe ≈ÇƒÖczyƒá siƒô na poziomie L2<br>
                    ‚Ä¢ DHCP lease dodany - urzƒÖdzenie dostanie IP<br>
                    ‚Ä¢ Po odnowieniu DHCP urzƒÖdzenie ma pe≈Çen dostƒôp do sieci
                </div>
            </div>

            <!-- Section 5: Decision Tree -->
            <div class="section">
                <div class="section-header">
                    <h2>5Ô∏è‚É£ Kt√≥ry skrypt wybraƒá? - Drzewo decyzyjne</h2>
                </div>

                <div class="decision-tree">
<strong>Musisz usunƒÖƒá wpisy urzƒÖdzenia?</strong>
‚îÇ
‚îú‚îÄ UrzƒÖdzenie USUNIƒòTE fizycznie? (zez≈Çomowane, przekazane)
‚îÇ  ‚îî‚îÄ <span style="color: #28a745;">‚úÖ drop-host-soft</span>
‚îÇ
‚îú‚îÄ UrzƒÖdzenie WYMIENIONE? (stary PC ‚Üí nowy PC)
‚îÇ  ‚îî‚îÄ <span style="color: #28a745;">‚úÖ drop-host-soft</span>
‚îÇ
‚îú‚îÄ Maintenance cleanup? (regularne czyszczenie)
‚îÇ  ‚îî‚îÄ <span style="color: #28a745;">‚úÖ drop-host-soft</span>
‚îÇ
‚îú‚îÄ Troubleshooting? (refresh cache, stale ARP)
‚îÇ  ‚îî‚îÄ <span style="color: #28a745;">‚úÖ drop-host-soft</span>
‚îÇ
‚îú‚îÄ Inventory audit? (synchronizacja z rzeczywisto≈õciƒÖ)
‚îÇ  ‚îî‚îÄ <span style="color: #28a745;">‚úÖ drop-host-soft</span>
‚îÇ
‚îú‚îÄ Security incident? (malware, kompromitacja)
‚îÇ  ‚îî‚îÄ <span style="color: #dc3545;">üö´ drop-host-v2</span>
‚îÇ
‚îú‚îÄ Malware infection? (podejrzenie infekcji)
‚îÇ  ‚îî‚îÄ <span style="color: #dc3545;">üö´ drop-host-v2</span>
‚îÇ
‚îú‚îÄ Unauthorized device? (rogue device w sieci)
‚îÇ  ‚îî‚îÄ <span style="color: #dc3545;">üö´ drop-host-v2</span>
‚îÇ
‚îî‚îÄ Emergency disconnect? (DDoS source, attack)
   ‚îî‚îÄ <span style="color: #dc3545;">üö´ drop-host-v2</span>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Sytuacja</th>
                            <th>drop-host-soft</th>
                            <th>drop-host-v2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Zez≈Çomowanie PC</strong></td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                        </tr>
                        <tr>
                            <td><strong>Wymiana urzƒÖdzenia</strong></td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                        </tr>
                        <tr>
                            <td><strong>Maintenance cleanup</strong></td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                        </tr>
                        <tr>
                            <td><strong>Security incident</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Malware infection</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Unauthorized device</strong></td>
                            <td style="background: #f8d7da; text-align: center;">‚ùå Nie</td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Troubleshooting</strong></td>
                            <td style="background: #d4edda; text-align: center;"><strong>‚úÖ TAK</strong></td>
                            <td style="background: #fff3cd; text-align: center;">‚ö†Ô∏è Overkill</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Section 6: Common Errors -->
            <div class="section">
                <div class="section-header">
                    <h2>6Ô∏è‚É£ Najczƒôstsze b≈Çƒôdy i rozwiƒÖzania</h2>
                </div>

                <div class="step-box">
                    <h3>‚ùå B≈ÇƒÖd: "drop-host-soft: ustaw najpierw :global HOSTID"</h3>
                    <p><strong>Przyczyna:</strong> Nie ustawi≈Çe≈õ zmiennej HOSTID przed uruchomieniem skryptu</p>
                    <p><strong>RozwiƒÖzanie:</strong></p>
                    <div class="code-block">
                        <code><span class="comment"># Ustaw HOSTID PRZED uruchomieniem:</span>
<span class="keyword">:global</span> HOSTID <span class="string">"34:29:8F:74:EC:46"</span>
<span class="keyword">/system script run</span> drop-host-soft</code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>‚ùå B≈ÇƒÖd: "no such script"</h3>
                    <p><strong>Przyczyna:</strong> Skrypt nie jest zainstalowany w systemie</p>
                    <p><strong>RozwiƒÖzanie:</strong></p>
                    <div class="code-block">
                        <code><span class="comment"># Sprawd≈∫ czy skrypt istnieje:</span>
<span class="keyword">/system script print</span>

<span class="comment"># Je≈õli nie ma drop-host-soft, zainstaluj go ponownie (sekcja 1)</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>‚ö†Ô∏è UrzƒÖdzenie nadal ma dostƒôp (po drop-host-v2)</h3>
                    <p><strong>Przyczyna:</strong> Bridge filter mo≈ºe nie dzia≈Çaƒá lub zosta≈Ç ≈∫le dodany</p>
                    <p><strong>RozwiƒÖzanie:</strong></p>
                    <div class="code-block">
                        <code><span class="comment"># Sprawd≈∫ czy bridge filter istnieje:</span>
<span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2"</span>

<span class="comment"># Je≈õli nie ma wpisu, uruchom skrypt ponownie</span>
<span class="comment"># Sprawd≈∫ logi aby zobaczyƒá co posz≈Ço nie tak:</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host-v2"</span></code>
                    </div>
                </div>

                <div class="step-box">
                    <h3>‚ö†Ô∏è Nie mo≈ºna znale≈∫ƒá MAC/IP urzƒÖdzenia</h3>
                    <p><strong>Przyczyna:</strong> UrzƒÖdzenie nie ma aktywnego DHCP lease lub bridge host entry</p>
                    <p><strong>RozwiƒÖzanie:</strong></p>
                    <div class="code-block">
                        <code><span class="comment"># Szukaj w r√≥≈ºnych miejscach:</span>

<span class="comment"># 1. DHCP leases (aktywne i nieaktywne)</span>
<span class="keyword">/ip dhcp-server lease print</span>

<span class="comment"># 2. Bridge host table (tylko aktywne urzƒÖdzenia)</span>
<span class="keyword">/interface bridge host print</span>

<span class="comment"># 3. ARP table</span>
<span class="keyword">/ip arp print</span>

<span class="comment"># 4. Je≈õli urzƒÖdzenie jest offline, podaj MAC rƒôcznie:</span>
<span class="keyword">:global</span> HOSTID <span class="string">"34:29:8F:74:EC:46"</span>
<span class="keyword">/system script run</span> drop-host-soft</code>
                    </div>
                </div>
            </div>

            <!-- Section 7: Cheatsheet -->
            <div class="section">
                <div class="section-header">
                    <h2>7Ô∏è‚É£ Cheatsheet - Szybkie komendy</h2>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üöÄ U≈ºycie skrypt√≥w</h3>
                <div class="code-block">
                    <code><span class="comment"># drop-host-soft (bez permanent block)</span>
<span class="keyword">:global</span> HOSTID <span class="string">"MAC-LUB-IP"</span>
<span class="keyword">/system script run</span> drop-host-soft

<span class="comment"># drop-host-v2 (z permanent block)</span>
<span class="keyword">:global</span> HOSTID <span class="string">"MAC-LUB-IP"</span>
<span class="keyword">/system script run</span> drop-host-v2</code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîç Weryfikacja</h3>
                <div class="code-block">
                    <code><span class="comment"># Sprawd≈∫ DHCP leases</span>
<span class="keyword">/ip dhcp-server lease print</span> where mac-address=<span class="string">"MAC"</span>

<span class="comment"># Sprawd≈∫ ARP</span>
<span class="keyword">/ip arp print</span> where mac-address=<span class="string">"MAC"</span>

<span class="comment"># Sprawd≈∫ bridge filter (permanent blocks)</span>
<span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2"</span>

<span class="comment"># Sprawd≈∫ logi</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host"</span></code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîì Odblokowanie (tylko v2)</h3>
                <div class="code-block">
                    <code><span class="comment"># Znajd≈∫ i usu≈Ñ bridge filter</span>
<span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2 block"</span>
<span class="keyword">/interface bridge filter remove</span> [numer]

<span class="comment"># Dodaj DHCP lease z powrotem</span>
<span class="keyword">/ip dhcp-server lease add</span> mac-address=<span class="string">MAC</span> address=<span class="string">IP</span> server=<span class="string">DHCP_SERVER</span></code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìä Diagnostyka</h3>
                <div class="code-block">
                    <code><span class="comment"># Lista wszystkich skrypt√≥w</span>
<span class="keyword">/system script print</span>

<span class="comment"># Zobacz zawarto≈õƒá skryptu</span>
<span class="keyword">/system script print</span> detail where name=<span class="string">"drop-host-soft"</span>

<span class="comment"># Wszystkie permanent blocks</span>
<span class="keyword">/interface bridge filter print</span> where action=<span class="string">drop</span>

<span class="comment"># Nieaktywne DHCP leases (kandydaci do cleanup)</span>
<span class="keyword">/ip dhcp-server lease print</span> where last-seen>7d</code>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Dokumentacja wygenerowana:</strong> 2025-10-23</p>
            <p style="margin-top: 15px; font-size: 0.9em;">
                <strong>PietrzakVLAN-Katowice</strong> | Praktyczny przewodnik u≈ºytkownika
            </p>
            <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
                ¬© 2025 | Katowice, ≈ölƒÖsk
            </p>
        </div>
    </div>
</body>
</html>
