<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>drop-host-v2 - Dokumentacja Skryptu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 50px;
        }
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .section-header h2 {
            font-size: 1.8em;
        }
        .section-description {
            background: #f0f4ff;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 10px;
            line-height: 1.7;
            color: #333;
        }
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            line-height: 1.6;
        }
        .info-box strong {
            color: #2196F3;
            display: block;
            margin-bottom: 8px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #856404;
            line-height: 1.6;
        }
        .warning-box strong {
            display: block;
            margin-bottom: 8px;
        }
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #721c24;
            line-height: 1.6;
        }
        .danger-box strong {
            display: block;
            margin-bottom: 8px;
        }
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #155724;
            line-height: 1.6;
        }
        .success-box strong {
            display: block;
            margin-bottom: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        tbody tr:hover {
            background: #f8f9fa;
        }
        tbody tr:last-child td {
            border-bottom: none;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            margin: 20px 0;
        }
        .code-block code {
            display: block;
            white-space: pre;
        }
        .comment {
            color: #6a9955;
        }
        .keyword {
            color: #569cd6;
        }
        .string {
            color: #ce9178;
        }
        .flow-step {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .flow-step strong {
            color: #667eea;
            display: block;
            margin-bottom: 8px;
        }
        .tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 2px;
        }
        .tag-critical {
            background: #f8d7da;
            color: #721c24;
        }
        .tag-action {
            background: #d4edda;
            color: #155724;
        }
        .tag-info {
            background: #e3f2fd;
            color: #1976d2;
        }
        .footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            color: #666;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üö´ drop-host-v2</h1>
            <p>MikroTik Script - Natychmiastowe odciƒôcie urzƒÖdzenia od sieci</p>
        </div>

        <!-- Content -->
        <div class="content">

            <!-- Section 1: Overview -->
            <div class="section">
                <div class="section-header">
                    <h2>1Ô∏è‚É£ Opis dzia≈Çania</h2>
                </div>
                
                <div class="section-description">
                    <strong>drop-host-v2</strong> to zaawansowany skrypt MikroTik RouterOS do 
                    <strong>natychmiastowego i ca≈Çkowitego odciƒôcia urzƒÖdzenia od sieci</strong>. 
                    Script wykonuje kompleksowe czyszczenie wszystkich ≈õlad√≥w urzƒÖdzenia w routerze 
                    na poziomach L2, L3 i L4.
                </div>

                <div class="danger-box">
                    <strong>üö® UWAGA - DESTRUCTIVE OPERATION!</strong>
                    Ten skrypt jest <strong>nieodwracalny</strong> i natychmiast odcina urzƒÖdzenie od sieci. 
                    U≈ºywaj tylko w przypadkach:<br>
                    ‚Ä¢ Security incident (kompromitacja urzƒÖdzenia)<br>
                    ‚Ä¢ Malware infection (podejrzenie infekcji)<br>
                    ‚Ä¢ Unauthorized access (nieautoryzowany dostƒôp)<br>
                    ‚Ä¢ Emergency disconnect (natychmiastowe odciƒôcie)<br>
                    ‚Ä¢ Testing/troubleshooting (refresh po≈ÇƒÖczenia)
                </div>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Kluczowe cechy:</strong>
                    ‚Ä¢ <strong>Flexible input:</strong> Dzia≈Ça z MAC address LUB IP address<br>
                    ‚Ä¢ <strong>Multi-layer cleanup:</strong> Usuwa ≈õlady na L2, L3, L4<br>
                    ‚Ä¢ <strong>Permanent block:</strong> Dodaje L2 bridge filter (block by MAC)<br>
                    ‚Ä¢ <strong>Comprehensive logging:</strong> Pe≈Çne logowanie wszystkich akcji<br>
                    ‚Ä¢ <strong>Error handling:</strong> Graceful handling gdy urzƒÖdzenie nie istnieje
                </div>
            </div>

            <!-- Section 2: How it works -->
            <div class="section">
                <div class="section-header">
                    <h2>2Ô∏è‚É£ Jak dzia≈Ça - 5 faz czyszczenia</h2>
                </div>

                <div class="section-description">
                    Script wykonuje <strong>5 faz czyszczenia</strong> w okre≈õlonej kolejno≈õci, 
                    aby zapewniƒá ca≈Çkowite odciƒôcie urzƒÖdzenia od sieci.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìã Fazy dzia≈Çania</h3>

                <div class="flow-step">
                    <strong>Faza 0: Rozpoznanie celu</strong>
                    ‚Ä¢ Input: MAC address (np. <code>34:29:8F:74:EC:46</code>) LUB IP address (np. <code>10.110.110.22</code>)<br>
                    ‚Ä¢ Je≈õli podano MAC ‚Üí szuka IP w DHCP leases<br>
                    ‚Ä¢ Je≈õli podano IP ‚Üí szuka MAC w DHCP leases lub bridge host table<br>
                    ‚Ä¢ Wynik: <code>foundIP</code> i <code>foundMAC</code>
                </div>

                <div class="flow-step">
                    <strong>Faza A: Usuniƒôcie wpis√≥w ARP</strong>
                    ‚Ä¢ Usuwa wpisy ARP dla IP address<br>
                    ‚Ä¢ Usuwa wpisy ARP dla MAC address<br>
                    ‚Ä¢ Cel: Router "zapomina" o urzƒÖdzeniu na poziomie L3
                </div>

                <div class="flow-step">
                    <strong>Faza B: Usuniƒôcie DHCP leases</strong>
                    ‚Ä¢ Usuwa DHCP lease dla MAC address<br>
                    ‚Ä¢ Usuwa DHCP lease dla IP address<br>
                    ‚Ä¢ Cel: UrzƒÖdzenie nie otrzyma IP przy nastƒôpnym request
                </div>

                <div class="flow-step">
                    <strong>Faza C: Usuniƒôcie bridge host entries (L2)</strong>
                    ‚Ä¢ Usuwa wpis bridge host dla MAC address<br>
                    ‚Ä¢ Usuwa wpis bridge host dla IP address<br>
                    ‚Ä¢ Cel: Router "zapomina" o urzƒÖdzeniu w L2 forwarding table
                </div>

                <div class="flow-step">
                    <strong>Faza D: Usuniƒôcie conntrack sessions (NAT/firewall)</strong>
                    ‚Ä¢ Usuwa aktywne connection tracking entries dla source IP<br>
                    ‚Ä¢ Usuwa aktywne connection tracking entries dla destination IP<br>
                    ‚Ä¢ Cel: Przerywa wszystkie aktywne sesje TCP/UDP
                </div>

                <div class="flow-step">
                    <strong>Faza E: Twarda blokada L2 (permanent block)</strong>
                    ‚Ä¢ Dodaje regu≈Çƒô bridge filter: <code>chain=forward mac-src=[MAC] action=drop</code><br>
                    ‚Ä¢ Regu≈Ça ma comment: <code>"drop-host-v2 block [MAC]"</code><br>
                    ‚Ä¢ Cel: <strong>Permanentne blokowanie</strong> - nawet po reboot urzƒÖdzenie nie po≈ÇƒÖczy siƒô
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Kolejno≈õƒá faz jest krytyczna!</strong>
                    Najpierw usuwamy "soft state" (ARP, DHCP, bridge host, conntrack), 
                    a na ko≈Ñcu dodajemy "hard block" (bridge filter). Dziƒôki temu urzƒÖdzenie 
                    jest najpierw "wyrzucane" z sieci, a potem permanentnie blokowane.
                </div>
            </div>

            <!-- Section 3: Usage -->
            <div class="section">
                <div class="section-header">
                    <h2>3Ô∏è‚É£ U≈ºycie skryptu</h2>
                </div>

                <div class="section-description">
                    Script wymaga ustawienia zmiennej globalnej <code>HOSTID</code> z MAC lub IP urzƒÖdzenia.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìù Przyk≈Çady u≈ºycia</h3>

                <div class="code-block">
                    <code><span class="comment"># Przyk≈Çad 1: Odciƒôcie po MAC address</span>
<span class="keyword">:global</span> HOSTID <span class="string">"34:29:8F:74:EC:46"</span>
<span class="keyword">/system script run</span> drop-host-v2

<span class="comment"># Przyk≈Çad 2: Odciƒôcie po IP address</span>
<span class="keyword">:global</span> HOSTID <span class="string">"10.110.110.22"</span>
<span class="keyword">/system script run</span> drop-host-v2

<span class="comment"># Przyk≈Çad 3: Odciƒôcie podejrzanego urzƒÖdzenia (security incident)</span>
<span class="keyword">:global</span> HOSTID <span class="string">"D8:3A:DD:ED:7F:1B"</span>
<span class="keyword">/system script run</span> drop-host-v2

<span class="comment"># Przyk≈Çad 4: Refresh po≈ÇƒÖczenia (troubleshooting)</span>
<span class="keyword">:global</span> HOSTID <span class="string">"10.170.170.55"</span>
<span class="keyword">/system script run</span> drop-host-v2</code>
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìä Output przyk≈Çadowy</h3>

                <div class="code-block">
                    <code><span class="comment"># Po uruchomieniu skryptu zobaczysz:</span>
drop-host-v2: cel=34:29:8F:74:EC:46 -> IP=10.110.110.22, MAC=34:29:8F:74:EC:46
drop-host-v2: ARP usuniƒôty dla IP 10.110.110.22
drop-host-v2: ARP usuniƒôty dla MAC 34:29:8F:74:EC:46
drop-host-v2: lease DHCP usuniƒôty (MAC) 34:29:8F:74:EC:46
drop-host-v2: bridge-host usuniƒôty dla MAC 34:29:8F:74:EC:46
drop-host-v2: bridge-host usuniƒôty dla IP 10.110.110.22
drop-host-v2: conntrack rm src=10.110.110.22
drop-host-v2: conntrack rm dst=10.110.110.22
drop-host-v2: dodano blokadƒô L2 dla MAC 34:29:8F:74:EC:46
drop-host-v2: OK -> IP=10.110.110.22, MAC=34:29:8F:74:EC:46</code>
                </div>

                <div class="success-box">
                    <strong>‚úÖ Co siƒô stanie z urzƒÖdzeniem?</strong>
                    ‚Ä¢ <strong>Natychmiast:</strong> Wszystkie aktywne po≈ÇƒÖczenia zostajƒÖ przerwane (conntrack flush)<br>
                    ‚Ä¢ <strong>Po sekundach:</strong> ARP cache expiration - urzƒÖdzenie "znika" z L3<br>
                    ‚Ä¢ <strong>Po minutach:</strong> Bridge host timeout - urzƒÖdzenie "znika" z L2<br>
                    ‚Ä¢ <strong>Permanent:</strong> Bridge filter DROP - nawet po reboot nie po≈ÇƒÖczy siƒô<br>
                    ‚Ä¢ <strong>Next DHCP:</strong> Brak lease - nie dostanie nowego IP
                </div>
            </div>

            <!-- Section 4: Parameters -->
            <div class="section">
                <div class="section-header">
                    <h2>4Ô∏è‚É£ Parametry i opcje</h2>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Parametr</th>
                            <th>Typ</th>
                            <th>Wymagany</th>
                            <th>Opis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>HOSTID</strong></td>
                            <td>String</td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>MAC address (format: XX:XX:XX:XX:XX:XX) LUB IP address</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîç Rozpoznawanie typu input</h3>

                <table>
                    <thead>
                        <tr>
                            <th>Input</th>
                            <th>Rozpoznanie</th>
                            <th>Przyk≈Çad</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Zawiera <code>:</code></td>
                            <td>MAC address</td>
                            <td><code>34:29:8F:74:EC:46</code></td>
                        </tr>
                        <tr>
                            <td>Brak <code>:</code></td>
                            <td>IP address</td>
                            <td><code>10.110.110.22</code></td>
                        </tr>
                    </tbody>
                </table>

                <div class="info-box">
                    <strong>‚ÑπÔ∏è Case insensitive dla MAC:</strong>
                    MAC address jest automatycznie konwertowany na uppercase, wiƒôc mo≈ºesz podaƒá:<br>
                    ‚Ä¢ <code>34:29:8f:74:ec:46</code> (lowercase)<br>
                    ‚Ä¢ <code>34:29:8F:74:EC:46</code> (uppercase)<br>
                    ‚Ä¢ <code>34:29:8F:74:ec:46</code> (mixed case)<br>
                    Wszystkie bƒôdƒÖ dzia≈Çaƒá poprawnie.
                </div>
            </div>

            <!-- Section 5: Logging -->
            <div class="section">
                <div class="section-header">
                    <h2>5Ô∏è‚É£ Logging i audit trail</h2>
                </div>

                <div class="section-description">
                    Script loguje <strong>ka≈ºdƒÖ akcjƒô</strong> do MikroTik logs. 
                    To zapewnia pe≈Çen audit trail wszystkich operacji.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üìã Rodzaje log√≥w</h3>

                <table>
                    <thead>
                        <tr>
                            <th>Typ logu</th>
                            <th>Przyk≈Çad</th>
                            <th>Znaczenie</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="tag tag-info">INFO</span></td>
                            <td><code>drop-host-v2: cel=... -> IP=..., MAC=...</code></td>
                            <td>Start operacji - identyfikacja celu</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-action">INFO</span></td>
                            <td><code>drop-host-v2: ARP usuniƒôty dla IP ...</code></td>
                            <td>Usuniƒôto wpis ARP</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-action">INFO</span></td>
                            <td><code>drop-host-v2: lease DHCP usuniƒôty (MAC) ...</code></td>
                            <td>Usuniƒôto DHCP lease</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-action">INFO</span></td>
                            <td><code>drop-host-v2: bridge-host usuniƒôty dla MAC ...</code></td>
                            <td>Usuniƒôto bridge host entry</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-action">INFO</span></td>
                            <td><code>drop-host-v2: conntrack rm src=...</code></td>
                            <td>Usuniƒôto conntrack sessions</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-critical">INFO</span></td>
                            <td><code>drop-host-v2: dodano blokadƒô L2 dla MAC ...</code></td>
                            <td>Dodano permanent block (bridge filter)</td>
                        </tr>
                        <tr>
                            <td><span class="tag tag-info">INFO</span></td>
                            <td><code>drop-host-v2: blokada L2 ju≈º istnieje dla MAC ...</code></td>
                            <td>Block ju≈º istnia≈Ç (duplicate run)</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîç Jak sprawdziƒá logi?</h3>

                <div class="code-block">
                    <code><span class="comment"># Zobacz wszystkie logi drop-host-v2</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host-v2"</span>

<span class="comment"># Zobacz logi dla konkretnego MAC</span>
<span class="keyword">/log print</span> where message~<span class="string">"34:29:8F:74:EC:46"</span>

<span class="comment"># Zobacz ostatnie 20 log√≥w</span>
<span class="keyword">/log print</span> where message~<span class="string">"drop-host-v2"</span> last=20</code>
                </div>
            </div>

            <!-- Section 6: Undoing -->
            <div class="section">
                <div class="section-header">
                    <h2>6Ô∏è‚É£ Jak cofnƒÖƒá blokadƒô?</h2>
                </div>

                <div class="section-description">
                    Script dodaje <strong>permanent L2 block</strong> w bridge filter. 
                    Aby przywr√≥ciƒá urzƒÖdzenie do sieci, musisz usunƒÖƒá tƒô regu≈Çƒô.
                </div>

                <h3 style="margin: 30px 0 15px 0; color: #667eea;">üîì Procedura odblokowania</h3>

                <div class="code-block">
                    <code><span class="comment"># Krok 1: Znajd≈∫ regu≈Çƒô bridge filter dla MAC</span>
<span class="keyword">/interface bridge filter print</span> where comment~<span class="string">"drop-host-v2 block"</span>

<span class="comment"># Output:</span>
<span class="comment"># 0   ;;; drop-host-v2 block 34:29:8F:74:EC:46</span>
<span class="comment">#     chain=forward action=drop mac-src-address=34:29:8F:74:EC:46</span>

<span class="comment"># Krok 2: Usu≈Ñ regu≈Çƒô (zmie≈Ñ numer 0 na w≈Ça≈õciwy)</span>
<span class="keyword">/interface bridge filter remove</span> 0

<span class="comment"># Krok 3: Dodaj urzƒÖdzenie z powrotem do DHCP (opcjonalnie)</span>
<span class="comment"># U≈ºywajƒÖc Generator Przenoszenia VLAN lub manualnie:</span>
<span class="keyword">/ip dhcp-server lease add</span> \
    mac-address=<span class="string">34:29:8F:74:EC:46</span> \
    address=<span class="string">10.110.110.22</span> \
    server=<span class="string">dhcp_VLAN110_NetBan</span> \
    comment=<span class="string">"Restored after drop-host-v2"</span>

<span class="comment"># Krok 4: UrzƒÖdzenie powinno ponownie uzyskaƒá dostƒôp</span></code>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Uwaga po odblokowaniu:</strong>
                    Samo usuniƒôcie bridge filter <strong>nie przywr√≥ci DHCP lease</strong>. 
                    Musisz:<br>
                    1. UsunƒÖƒá bridge filter (jak powy≈ºej)<br>
                    2. Dodaƒá nowy DHCP lease (manual lub Generator VLAN)<br>
                    3. UrzƒÖdzenie musi odnowiƒá DHCP (reboot lub <code>ipconfig /renew</code>)
                </div>
            </div>

            <!-- Section 7: Use Cases -->
            <div class="section">
                <div class="section-header">
                    <h2>7Ô∏è‚É£ Przypadki u≈ºycia</h2>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Scenariusz</th>
                            <th>Opis</th>
                            <th>Kiedy u≈ºyƒá</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>üö® Security Incident</strong></td>
                            <td>UrzƒÖdzenie zosta≈Ço skompromitowane (malware, ransomware)</td>
                            <td>Natychmiast odciƒÖƒá od sieci aby zapobiec rozprzestrzenianiu siƒô</td>
                        </tr>
                        <tr>
                            <td><strong>üîí Unauthorized Access</strong></td>
                            <td>Nieautoryzowane urzƒÖdzenie w sieci (rogue device)</td>
                            <td>Zablokowaƒá dostƒôp do czasu identyfikacji w≈Ça≈õciciela</td>
                        </tr>
                        <tr>
                            <td><strong>üêõ Malware Infection</strong></td>
                            <td>Podejrzenie infekcji (anomalne zachowanie, skanowanie port√≥w)</td>
                            <td>Izolowaƒá do czasu skanowania antywirusem</td>
                        </tr>
                        <tr>
                            <td><strong>üîß Troubleshooting</strong></td>
                            <td>UrzƒÖdzenie ma problemy z po≈ÇƒÖczeniem (stale IP, b≈Çƒôdne ARP)</td>
                            <td>Wyczy≈õciƒá wszystkie cache i wymusiƒá fresh DHCP</td>
                        </tr>
                        <tr>
                            <td><strong>üìµ Emergency Disconnect</strong></td>
                            <td>Konieczno≈õƒá natychmiastowego odciƒôcia (np. DDoS source)</td>
                            <td>Szybsze ni≈º manualny firewall rule</td>
                        </tr>
                        <tr>
                            <td><strong>üß™ Testing</strong></td>
                            <td>Test mechanizmu NetBan lub procedury incident response</td>
                            <td>Walidacja procedur bezpiecze≈Ñstwa</td>
                        </tr>
                    </tbody>
                </table>

                <div class="success-box">
                    <strong>‚úÖ Best Practices:</strong>
                    ‚Ä¢ <strong>Dokumentuj:</strong> Zawsze notuj w systemie ticketowym dlaczego urzƒÖdzenie zosta≈Ço odciƒôte<br>
                    ‚Ä¢ <strong>Komunikuj:</strong> Poinformuj u≈ºytkownika (je≈õli to jego urzƒÖdzenie)<br>
                    ‚Ä¢ <strong>Investigate:</strong> Zbadaj przyczynƒô (logi, forensics) przed odblokowaniem<br>
                    ‚Ä¢ <strong>Monitor:</strong> Po odblokowaniu monitoruj przez pierwsze 24h<br>
                    ‚Ä¢ <strong>Review logs:</strong> Regularnie sprawdzaj logi drop-host-v2 w audycie bezpiecze≈Ñstwa
                </div>
            </div>

            <!-- Section 8: Permissions -->
            <div class="section">
                <div class="section-header">
                    <h2>8Ô∏è‚É£ Wymagane uprawnienia</h2>
                </div>

                <div class="section-description">
                    Script wymaga <strong>wysokich uprawnie≈Ñ</strong> (policy) aby m√≥c modyfikowaƒá 
                    r√≥≈ºne komponenty routera.
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Policy</th>
                            <th>Wymagane?</th>
                            <th>Do czego</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>read</strong></td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>Odczyt DHCP leases, ARP, bridge host, conntrack</td>
                        </tr>
                        <tr>
                            <td><strong>write</strong></td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>Usuwanie entries (ARP, DHCP, bridge, conntrack)</td>
                        </tr>
                        <tr>
                            <td><strong>policy</strong></td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>Modyfikacja bridge filter rules</td>
                        </tr>
                        <tr>
                            <td><strong>test</strong></td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>Operacje testowe na systemie</td>
                        </tr>
                        <tr>
                            <td><strong>sensitive</strong></td>
                            <td><span class="tag tag-critical">TAK</span></td>
                            <td>Dostƒôp do wra≈ºliwych operacji</td>
                        </tr>
                        <tr>
                            <td><strong>ftp, reboot, password, sniff, romon</strong></td>
                            <td><span class="tag tag-info">Opcjonalne</span></td>
                            <td>Standardowe dla admin scripts</td>
                        </tr>
                    </tbody>
                </table>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Bezpiecze≈Ñstwo:</strong>
                    Ten script ma <strong>pe≈Çne uprawnienia administratora</strong>. Przechowuj go bezpiecznie:<br>
                    ‚Ä¢ Tylko admin group powinno mieƒá dostƒôp do edycji<br>
                    ‚Ä¢ U≈ºywaj tylko z trusted sources (nie kopiuj z internetu bez przeglƒÖdu)<br>
                    ‚Ä¢ Loguj ka≈ºde u≈ºycie (automatyczne via MikroTik logs)<br>
                    ‚Ä¢ Regularnie reviewuj kto i kiedy u≈ºy≈Ç skryptu
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Dokumentacja wygenerowana:</strong> 2025-10-23</p>
            <p><strong>Script:</strong> drop-host-v2 (MikroTik RouterOS 7.x)</p>
            <p style="margin-top: 15px; font-size: 0.9em;">
                <strong>PietrzakVLAN-Katowice</strong> | Network Security Scripts
            </p>
            <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
                ¬© 2025 | Katowice, ≈ölƒÖsk
            </p>
        </div>
    </div>
</body>
</html>
